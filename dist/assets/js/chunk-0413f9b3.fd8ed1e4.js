(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0413f9b3"],{6005:function(t,i,o){"use strict";var a=o("6b5a"),n=o.n(a);n.a},"6b5a":function(t,i,o){},"77be":function(t,i,o){"use strict";o.r(i);var a=function(){var t=this,i=t.$createElement,o=t._self._c||i;return o("div",{attrs:{id:"Account"}},[t._m(0),o("div",{staticClass:"mui-content"},[o("ul",{staticClass:"box_1"},[o("li",[o("div",[o("i",{staticClass:"icon iconfont icon-z-alipay zhifubao"}),o("span",[t._v("支付宝账户："+t._s(t.Account_obj?t.Account_obj.account:""))]),t.Account_obj?o("span",{staticClass:"modify",on:{click:function(i){t.xiugai()}}},[t._v("更换")]):t._e()]),t.Account_obj?o("div",{staticClass:"radio_1",class:{active:1==t.radio_type_1},on:{click:function(i){t.change_radio_2()}}},[o("i",{staticClass:"icon iconfont icon-xuanze"})]):t._e(),t.Account_obj?t._e():o("div",{on:{click:function(i){t.addzhifubao()}}},[o("i",{staticClass:"mui-icon mui-icon-plusempty"})])])]),t._m(1)]),o("div",{directives:[{name:"show",rawName:"v-show",value:t.Popup,expression:"Popup"}],staticClass:"Popup"},[o("div",{staticClass:"Mask"}),o("form",{on:{submit:function(i){i.preventDefault(),t.form()}}},[o("span",{staticClass:"close_1",on:{click:function(i){t.close()}}},[o("i",{staticClass:"icon iconfont icon-quxiao"})]),o("div",{staticClass:"header_1"},[t._v("绑定支付宝")]),o("ul",[o("li",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.account,expression:"account"}],attrs:{type:"text",required:"",placeholder:"请输入支付宝登录手机号"},domProps:{value:t.account},on:{input:function(i){i.target.composing||(t.account=i.target.value)}}}),o("div",{staticClass:"Verification",on:{click:function(i){t.Verification()}}},[t._v(t._s(0==t.time?"获取验证码":t.time+"s"))])]),o("li",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],attrs:{required:"",type:"text",placeholder:"请输入验证码"},domProps:{value:t.code},on:{input:function(i){i.target.composing||(t.code=i.target.value)}}})])]),o("button",{attrs:{type:"submit"}},[t._v("确定")])])]),o("circularNav")],1)},n=[function(){var t=this,i=t.$createElement,o=t._self._c||i;return o("header",{staticClass:"mui-bar mui-bar-nav"},[o("a",{staticClass:"mui-action-back mui-icon mui-icon-left-nav mui-pull-left"}),o("h1",{staticClass:"mui-title"},[t._v("收款账号")])])},function(){var t=this,i=t.$createElement,o=t._self._c||i;return o("div",{staticClass:"box_2"},[t._v("\n            提示：目前只支持提现到支付宝账号，请确定您已经有支付宝账号，绑定账号时请输入支付宝的手机号码，因用户自行输入错误造成的损失，本公司概不负责！\n            "),o("br"),t._v("\n            提现到微信功能正在开发中。\n        ")])}],e=o("1aa4"),c={name:"",components:{circularNav:e["a"]},data:function(){return{Popup:!1,radio_type_1:1,tishi:!1,app_auth_code:"",zhifubaozhangfu:"",userInfo:"",Account_obj:{},code:"",key:"",time:0,account:"",submit_add:!0}},methods:{form:function(){var t=this,i={userid:this.userInfo.username,type:0,account:this.account,normal:1};if(this.submit_add)this.$axios({method:"post",url:"/api-u/users/account?phone="+this.userInfo.phone+"&key="+this.key+"&code="+this.code,data:i}).then(function(i){console.log(i),200==i.data.code?(t.findAccount(),t.Popup=!1,mui.toast("设置成功！",{duration:2e3,type:"div"})):400==i.data.code?mui.toast("验证码错误！",{duration:2e3,type:"div"}):mui.toast(i.data.message,{duration:2e3,type:"div"})},function(t){mui.toast("系统错误，请稍后再试！",{duration:2e3,type:"div"}),console.log(t)});else{i={id:this.Account_obj.id,account:this.account,phone:this.userInfo.phone,key:this.key,code:this.code};this.$axios({method:"put",url:"/api-u/users/"+this.Account_obj.id+"/account",data:i,params:i}).then(function(i){console.log(i),200==i.data.code?(t.findAccount(),t.Popup=!1,mui.toast("设置成功！",{duration:2e3,type:"div"})):400==i.data.code?mui.toast("验证码错误！",{duration:2e3,type:"div"}):mui.toast(i.data.message,{duration:2e3,type:"div"})}).catch(function(t){console.log(t),mui.toast("系统错误，请稍后再试！",{duration:2e3,type:"div"})}),console.log("修改")}},Verification:function(){var t=this;if(0==this.time){var i=this;this.time=60;var o=setInterval(function(){i.time--,0==i.time&&clearInterval(o)},1e3);this.$axios({method:"post",url:"/api-n/notification-anon/codes?phone="+this.userInfo.phone}).then(function(i){console.log(i),t.key=i.data.key,mui.toast("短信已发送至"+t.userInfo.phone+"号码，请注意查收。",{duration:2e3,type:"div"})}).catch(function(t){console.log(t),mui.toast("系统错误，请稍后再试！",{duration:2e3,type:"div"})})}},addweixin:function(){this.$store.state.isweixin||mui.toast("请在微信公众号中打开",{duration:2e3,type:"div"})},xiugai:function(){this.code="",this.key="",this.account=this.Account_obj.account,this.Popup=!0,this.submit_add=!1},close:function(){this.Popup=!1},addzhifubao:function(){this.code="",this.key="",this.account="",this.Popup=!0,this.submit_add=!0},tixian:function(){this.$axios({method:"get",url:"http://122.114.169.178:8080/ailipay/withdrawal/user/pay?phone="+this.zhifubaozhangfu}).then(function(t){alert(JSON.stringify(t))}).catch(function(t){alert(JSON.stringify(t))})},alertCode:function(){this.app_auth_code=this.$route.query.app_auth_code,alert(this.app_auth_code)},getCode:function(){this.$axios({method:"get",url:"http://122.114.169.178:8080/ailipay/withdrawal/user/getCode?code="+this.app_auth_code}).then(function(t){alert(JSON.stringify(t))}).catch(function(t){alert(JSON.stringify(t))})},findAccount:function(){var t=this;this.$axios({method:"get",url:"/api-u/users/findAccount?userid="+this.userInfo.username}).then(function(i){console.log("获取支付宝账号",i),null!=i.data.data&&(t.Account_obj=i.data.data)},function(t){console.log(t)})}},mounted:function(){localStorage.userInfo&&""!=localStorage.userInfo&&null!=localStorage.userInfo&&void 0!=localStorage.userInfo&&"undefined"!=localStorage.userInfo&&(this.userInfo=JSON.parse(localStorage.userInfo)),this.findAccount()},updated:function(){}},s=c,u=(o("6005"),o("2877")),r=Object(u["a"])(s,a,n,!1,null,null,null);r.options.__file="Account.vue";i["default"]=r.exports}}]);
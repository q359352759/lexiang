(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f45d55c2"],{8374:function(t,e,o){"use strict";var a=o("b2bc"),i=o.n(a);i.a},b2bc:function(t,e,o){},de4b:function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"PaymentPassword"}},[o("header",{staticClass:"mui-bar mui-bar-nav"},[o("a",{staticClass:"mui-action-back mui-icon mui-icon-left-nav mui-pull-left"}),o("h1",{staticClass:"mui-title"},[t._v(t._s(this.$store.state.isweixin?"":"修改支付密码"))])]),o("div",{staticClass:"mui-content"},[o("form",{staticClass:"box_1",on:{submit:function(e){e.preventDefault(),t.from()}}},[o("ul",[o("li",[o("i",{staticClass:"icon iconfont icon-icon-mima"}),o("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],attrs:{type:"text",required:"",placeholder:"验证码"},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}}),o("span",{staticClass:"Verification",on:{click:function(e){t.Verification()}}},[t._v(t._s(0==t.time?"获取验证码":t.time+"s")+" ")])]),o("li",[o("i",{staticClass:"icon iconfont icon-icon-mima"}),o("input",{directives:[{name:"model",rawName:"v-model",value:t.payPassword,expression:"payPassword"}],attrs:{type:"password",required:"",placeholder:"请输入6位数字"},domProps:{value:t.payPassword},on:{input:function(e){e.target.composing||(t.payPassword=e.target.value)}}})]),o("li",[o("i",{staticClass:"icon iconfont icon-icon-mima"}),o("input",{directives:[{name:"model",rawName:"v-model",value:t.payPassword1,expression:"payPassword1"}],attrs:{type:"password",required:"",placeholder:"确认密码"},domProps:{value:t.payPassword1},on:{input:function(e){e.target.composing||(t.payPassword1=e.target.value)}}})])]),o("button",{staticClass:"btn_1",attrs:{type:"submit"}},[t._v("提交")])])]),o("circularNav")],1)},i=[],s=(o("cadf"),o("551c"),o("097d"),o("1aa4")),n={name:"PaymentPassword",components:{circularNav:s["a"]},data:function(){return{time:0,userInfo:"",payPassword:"",payPassword1:"",key:"",code:""}},methods:{from:function(){var t=/^\d{6}$/;if(t.test(this.payPassword))if(this.payPassword==this.payPassword1){var e={id:this.userInfo.id,payPassword:this.payPassword,phone:this.userInfo.phone,key:this.key,code:this.code};this.$axios({method:"put",url:"/api-u/users/"+this.userInfo.id+"/payPassword",params:e}).then(function(t){console.log(t),400==t.data.code?mui.toast("验证码错误",{duration:2e3,type:"div"}):200==t.data.code?mui.toast("密码设置成功！",{duration:2e3,type:"div"}):mui.toast(t.data.message,{duration:2e3,type:"div"})}).catch(function(t){console.log(t)})}else mui.toast("两次密码不一致！",{duration:2e3,type:"div"});else mui.toast("密码为6位数字组成！",{duration:2e3,type:"div"})},Verification:function(){var t=this;if(0==this.time){var e=this;this.time=60;var o=setInterval(function(){e.time--,0==e.time&&clearInterval(o)},1e3);this.$axios({method:"post",url:"/api-n/notification-anon/codes?phone="+this.userInfo.phone}).then(function(e){console.log(e),e.data.key&&(mui.toast("验证码已发送至"+t.userInfo.phone+",请注意查收。",{duration:2e3,type:"div"}),t.key=e.data.key)}).catch(function(t){console.log(t),mui.toast("系统错误，请稍后再试",{duration:2e3,type:"div"})})}}},beforeCreate:function(){},created:function(){},beforeMount:function(){},mounted:function(){this.$store.state.isweixin&&(document.getElementsByTagName("title")[0].innerText="修改支付密码"),localStorage.userInfo&&""!=localStorage.userInfo&&null!=localStorage.userInfo&&void 0!=localStorage.userInfo&&"undefined"!=localStorage.userInfo&&(this.userInfo=JSON.parse(localStorage.userInfo))},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){}},r=n,c=(o("8374"),o("2877")),u=Object(c["a"])(r,a,i,!1,null,null,null);u.options.__file="PaymentPassword.vue";e["default"]=u.exports}}]);
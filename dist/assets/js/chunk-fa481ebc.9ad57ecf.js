(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fa481ebc"],{"8c28":function(o,t,e){"use strict";var n=e("ad08"),i=e.n(n);i.a},ad08:function(o,t,e){},ee1d:function(o,t,e){"use strict";e.r(t);var n=function(){var o=this,t=o.$createElement,e=o._self._c||t;return e("div",[e("div",[o._v("裁剪测试")]),e("div",{directives:[{name:"show",rawName:"v-show",value:""!=o.option.img,expression:"option.img!=''"}],staticClass:"wrapper zhengmian"},[e("VueCropper",{ref:"cropper",attrs:{img:o.option.img,outputSize:o.option.size,outputType:o.option.outputType,info:!0,full:o.option.full,canMove:o.option.canMove,fixedBox:o.option.fixedBox,canMoveBox:o.option.canMoveBox,autoCrop:!0,autoCropWidth:200,autoCropHeight:200}})],1),e("div",{staticClass:"test-button"},[e("button",{staticClass:"btn",on:{click:o.changeImg}},[o._v("changeImg")]),e("label",{staticClass:"btn",attrs:{for:"uploads"}},[o._v("upload")]),e("input",{staticStyle:{position:"absolute",clip:"rect(0 0 0 0)"},attrs:{type:"file",id:"uploads",accept:"image/png, image/jpeg, image/gif, image/jpg"},on:{change:function(t){o.uploadImg(t,1)}}}),o.crap?e("button",{staticClass:"btn",on:{click:o.stopCrop}},[o._v("stop")]):e("button",{staticClass:"btn",on:{click:o.startCrop}},[o._v("start")]),e("button",{staticClass:"btn",on:{click:o.clearCrop}},[o._v("clear")]),e("button",{staticClass:"btn",on:{click:function(t){o.changeScale(1)}}},[o._v("+")]),e("button",{staticClass:"btn",on:{click:function(t){o.changeScale(-1)}}},[o._v("-")]),e("button",{staticClass:"btn",on:{click:o.rotateLeft}},[o._v("rotateLeft")]),e("button",{staticClass:"btn",on:{click:o.rotateRight}},[o._v("rotateRight")]),e("button",{staticClass:"btn",on:{click:function(t){o.finish("base64")}}},[o._v("preview(base64)")]),e("button",{staticClass:"btn",on:{click:function(t){o.finish("blob")}}},[o._v("preview(blob)")]),e("a",{staticClass:"btn",on:{click:function(t){o.down("base64")}}},[o._v("download(base64)")]),e("a",{staticClass:"btn",on:{click:function(t){o.down("blob")}}},[o._v("download(blob)")]),e("div",{staticStyle:{display:"block",width:"100%"}},[e("label",{staticClass:"c-item"},[e("span",[o._v("上传图片是否显示原始宽高 (针对大图 可以铺满)")]),e("input",{directives:[{name:"model",rawName:"v-model",value:o.option.original,expression:"option.original"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(o.option.original)?o._i(o.option.original,null)>-1:o.option.original},on:{change:function(t){var e=o.option.original,n=t.target,i=!!n.checked;if(Array.isArray(e)){var a=null,c=o._i(e,a);n.checked?c<0&&o.$set(o.option,"original",e.concat([a])):c>-1&&o.$set(o.option,"original",e.slice(0,c).concat(e.slice(c+1)))}else o.$set(o.option,"original",i)}}})]),e("label",{staticClass:"c-item"},[e("span",[o._v("能否拖动图片")]),e("input",{directives:[{name:"model",rawName:"v-model",value:o.option.canMove,expression:"option.canMove"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(o.option.canMove)?o._i(o.option.canMove,null)>-1:o.option.canMove},on:{change:function(t){var e=o.option.canMove,n=t.target,i=!!n.checked;if(Array.isArray(e)){var a=null,c=o._i(e,a);n.checked?c<0&&o.$set(o.option,"canMove",e.concat([a])):c>-1&&o.$set(o.option,"canMove",e.slice(0,c).concat(e.slice(c+1)))}else o.$set(o.option,"canMove",i)}}})]),e("label",{staticClass:"c-item"},[e("span",[o._v("能否拖动截图框")]),e("input",{directives:[{name:"model",rawName:"v-model",value:o.option.canMoveBox,expression:"option.canMoveBox"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(o.option.canMoveBox)?o._i(o.option.canMoveBox,null)>-1:o.option.canMoveBox},on:{change:function(t){var e=o.option.canMoveBox,n=t.target,i=!!n.checked;if(Array.isArray(e)){var a=null,c=o._i(e,a);n.checked?c<0&&o.$set(o.option,"canMoveBox",e.concat([a])):c>-1&&o.$set(o.option,"canMoveBox",e.slice(0,c).concat(e.slice(c+1)))}else o.$set(o.option,"canMoveBox",i)}}})]),e("label",{staticClass:"c-item"},[e("span",[o._v("截图固定大小")]),e("input",{directives:[{name:"model",rawName:"v-model",value:o.option.fixedBox,expression:"option.fixedBox"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(o.option.fixedBox)?o._i(o.option.fixedBox,null)>-1:o.option.fixedBox},on:{change:function(t){var e=o.option.fixedBox,n=t.target,i=!!n.checked;if(Array.isArray(e)){var a=null,c=o._i(e,a);n.checked?c<0&&o.$set(o.option,"fixedBox",e.concat([a])):c>-1&&o.$set(o.option,"fixedBox",e.slice(0,c).concat(e.slice(c+1)))}else o.$set(o.option,"fixedBox",i)}}})]),e("label",{staticClass:"c-item"},[e("span",[o._v("是否输出原图比例的截图")]),e("input",{directives:[{name:"model",rawName:"v-model",value:o.option.full,expression:"option.full"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(o.option.full)?o._i(o.option.full,null)>-1:o.option.full},on:{change:function(t){var e=o.option.full,n=t.target,i=!!n.checked;if(Array.isArray(e)){var a=null,c=o._i(e,a);n.checked?c<0&&o.$set(o.option,"full",e.concat([a])):c>-1&&o.$set(o.option,"full",e.slice(0,c).concat(e.slice(c+1)))}else o.$set(o.option,"full",i)}}})]),e("p",[o._v("输出图片格式")]),e("label",{staticClass:"c-item"},[e("label",[o._v("jpg  "),e("input",{directives:[{name:"model",rawName:"v-model",value:o.option.outputType,expression:"option.outputType"}],attrs:{type:"radio",name:"type",value:"jpeg"},domProps:{checked:o._q(o.option.outputType,"jpeg")},on:{change:function(t){o.$set(o.option,"outputType","jpeg")}}})]),e("label",[o._v("png  "),e("input",{directives:[{name:"model",rawName:"v-model",value:o.option.outputType,expression:"option.outputType"}],attrs:{type:"radio",name:"type",value:"png"},domProps:{checked:o._q(o.option.outputType,"png")},on:{change:function(t){o.$set(o.option,"outputType","png")}}})]),e("label",[o._v("webp "),e("input",{directives:[{name:"model",rawName:"v-model",value:o.option.outputType,expression:"option.outputType"}],attrs:{type:"radio",name:"type",value:"webp"},domProps:{checked:o._q(o.option.outputType,"webp")},on:{change:function(t){o.$set(o.option,"outputType","webp")}}})])])])]),e("div",{staticClass:"show-preview",style:{width:o.previews.w+"px",height:o.previews.h+"px",overflow:"hidden",margin:"5px"}},[e("div",{style:o.previews.div},[e("img",{style:o.previews.img,attrs:{src:o.previews.url}})])])])},i=[];function a(o){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"===typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},a(o)}function c(o){return c="function"===typeof Symbol&&"symbol"===a(Symbol.iterator)?function(o){return a(o)}:function(o){return o&&"function"===typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":a(o)},c(o)}e("cadf"),e("551c"),e("097d");var r=e("7e79"),p={data:function(){return{crap:!1,previews:{},lists:[{img:"https://fengyuanchen.github.io/cropper/images/picture.jpg"},{img:"http://ofyaji162.bkt.clouddn.com/touxiang.jpg"}],option:{img:"",size:1,full:!1,outputType:"png",canMove:!0,fixedBox:!0,original:!1,canMoveBox:!1,autoCrop:!0},downImg:"#"}},methods:{rotateLeft:function(){this.$refs.cropper.rotateLeft()},rotateRight:function(){this.$refs.cropper.rotateRight()},changeImg:function(){this.option.img=this.lists[~~(Math.random()*this.lists.length)].img},startCrop:function(){this.crap=!0,this.$refs.cropper.startCrop()},stopCrop:function(){this.crap=!1,this.$refs.cropper.stopCrop()},clearCrop:function(){this.$refs.cropper.clearCrop()},realTime:function(o){this.previews=o},finish:function(o){var t=window.open("about:blank");t.document.body.innerHTML="图片生成中..","blob"===o?(console.log("生成图片1"),this.$refs.cropper.getCropBlob(function(o){var t=window.open("");t.location.href=window.URL.createObjectURL(o)})):(console.log("生成图片2"),this.$refs.cropper.getCropData(function(o){console.log(o)}))},down:function(o){var t=this;"blob"===o?this.$refs.cropper.getCropBlob(function(o){if(t.downImg=window.URL.createObjectURL(o),window.navigator.msSaveBlob){var e=new Blob([o]);window.navigator.msSaveBlob(e,"demo.png")}else t.$nextTick(function(){t.$refs.downloadDom.click()})}):this.$refs.cropper.getCropData(function(o){if(t.downImg=o,window.navigator.msSaveBlob){var e=new Blob([o]);window.navigator.msSaveBlob(e,"demo.png")}else t.$nextTick(function(){t.$refs.downloadDom.click()})})},uploadImg:function(o,t){var e=this,n=o.target.files[0];if(!/\.(gif|jpg|jpeg|png|bmp|GIF|JPG|PNG)$/.test(o.target.value))return alert("图片类型必须是.gif,jpeg,jpg,png,bmp中的一种"),!1;var i=new FileReader;i.onload=function(o){var n;"object"===c(o.target.result)?(console.log(111),n=window.URL.createObjectURL(new Blob([o.target.result]))):(console.log(222),n=o.target.result),1===t&&(e.option.img=n,e.$refs.cropper.startCrop(),console.log(1))},i.readAsArrayBuffer(n),console.log("选择了图片")}},components:{VueCropper:r["VueCropper"]}},s=p,l=(e("8c28"),e("2877")),u=Object(l["a"])(s,n,i,!1,null,null,null);u.options.__file="croppertest.vue";t["default"]=u.exports}}]);
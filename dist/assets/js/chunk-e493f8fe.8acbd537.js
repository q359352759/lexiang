(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e493f8fe"],{"026a":function(t,e,i){},7803:function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"register"}},[i("header",{staticClass:"mui-bar mui-bar-nav"},[i("a",{staticClass:"mui-action-back mui-icon mui-icon-left-nav mui-pull-left"}),i("h1",{staticClass:"mui-title"},[t._v(t._s(this.$store.state.isweixin?"":"注册"))])]),i("div",{staticClass:"mui-content"},[i("form",{staticClass:"box_1",on:{submit:function(e){e.preventDefault(),t.submit()}}},[i("ul",[i("li",[i("i",{staticClass:"icon iconfont icon-shouji"}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],attrs:{type:"text",required:"",placeholder:"手机号码",required:"",pattern:"^1\\d{10}$"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}})]),i("li",[i("i",{staticClass:"icon iconfont icon-suo"}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],attrs:{type:"text",required:"",placeholder:"验证码",required:""},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}}),i("span",{staticClass:"Verification",on:{click:function(e){t.get_codes()}}},[t._v(t._s(0==t.time?"获取验证码":t.time+"s"))])]),i("li",[i("i",{staticClass:"icon iconfont icon-suo"}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",required:"",placeholder:"登录密码",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),""==t.password?i("span",{staticClass:"tishi"},[t._v("（6-16位数字字母组成）")]):t._e()]),i("li",[i("i",{staticClass:"icon iconfont icon-suo"}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.password1,expression:"password1"}],attrs:{type:"password",required:"",placeholder:"确认密码",required:""},domProps:{value:t.password1},on:{input:function(e){e.target.composing||(t.password1=e.target.value)}}})])]),i("div",{staticClass:"Agreement"},[i("div",{staticClass:"radio_1",class:{active:t.radio_type_2},on:{click:function(e){t.change_radio_2()}}},[i("i",{staticClass:"icon iconfont icon-xuanze"})]),i("span",{on:{click:function(e){t.change_radio_2()}}},[t._v(" 我也阅读并同意")]),i("span",{on:{click:function(e){t.RegistrationAgreement()}}},[t._v("《用户注册协议》")])]),i("button",{staticClass:"btn_1",attrs:{type:"submit"}},[t._v("立即注册")])])]),i("circularNav")],1)},s=[],n=i("1aa4"),a={name:"register",components:{circularNav:n["a"]},data:function(){return{time:0,phone:"",code:"",key:"",password:"",password1:"",radio_type_2:!0}},methods:{get_codes:function(){var t=this,e=/^1\d{10}$/;if(0==this.time&&""!=this.phone&&e.test(this.phone)){var i=this;this.time=60;var o=setInterval(function(){i.time--,0==i.time&&clearInterval(o)},1e3);this.$axios({method:"post",url:"/api-n/notification-anon/codes?phone="+this.phone}).then(function(e){console.log(e),t.key=e.data.key}).catch(function(t){console.log(t),mui.toast(data.message,{duration:2e3,type:"div"})})}},RegistrationAgreement:function(){this.$router.push("/RegistrationAgreement")},change_radio_2:function(t){this.radio_type_2=!this.radio_type_2},submit:function(){console.log("注册开始"),this.radio_type_2?this.password==this.password1?this.register():mui.alert("两次密码不一致","提示"):mui.alert("请同意用户注册协议。","提示")},register:function(){var t=this;this.$axios({method:"post",url:"/api-u/users-anon/register?phone="+this.phone+"&key="+this.key+"&code="+this.code,data:{username:this.phone,password:this.password,phone:this.phone}}).then(function(e){console.log(e),200==e.data.code?(mui.toast("注册成功",{duration:2e3,type:"div"}),t.$router.push("/login")):400==e.data.code?mui.toast("验证码错误",{duration:2e3,type:"div"}):mui.toast(e.data.message,{duration:2e3,type:"div"})}).catch(function(t){console.log(t),mui.toast("系统错误，请稍后再试。",{duration:2e3,type:"div"})})}},beforeCreate:function(){},created:function(){},beforeMount:function(){},mounted:function(){this.$store.state.isweixin&&(document.getElementsByTagName("title")[0].innerText="注册")},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){}},r=a,c=(i("8f89"),i("2877")),u=Object(c["a"])(r,o,s,!1,null,null,null);u.options.__file="register.vue";e["default"]=u.exports},"8f89":function(t,e,i){"use strict";var o=i("026a"),s=i.n(o);s.a}}]);
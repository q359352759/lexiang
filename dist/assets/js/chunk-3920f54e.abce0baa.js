(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3920f54e"],{2346:function(t,s,e){"use strict";var a=e("94ad"),i=e.n(a);i.a},"29ea":function(t,s,e){},"94ad":function(t,s,e){},c9fc:function(t,s,e){"use strict";var a=e("29ea"),i=e.n(a);i.a},d804:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"Agent"}},[e("header",{staticClass:"mui-bar mui-bar-nav"},[e("a",{staticClass:"mui-action-back mui-icon mui-icon-left-nav mui-pull-left"}),e("h1",{staticClass:"mui-title"},[t._v(t._s(this.$store.state.isweixin?"":"代理人"))]),e("span",{staticClass:"quyu",on:{click:function(s){t.RegionalAgent()}}},[t._v("区域代理")])]),e("div",{staticClass:"mui-content"},[e("div",{staticClass:"box_1"},[t._m(0),e("div",{staticClass:"text"},[e("div",[t._v(t._s(t.agentUser.realName)+"-业务代理人")]),e("div",[t._v("\n                    "+t._s(t.areaList[0]?t.areaList[0].name:"")+t._s(t.areaList[1]?t.areaList[1].name:"")+t._s(t.areaList[2]?t.areaList[1].name:"")+"\n                ")])]),e("div",{staticClass:"market",on:{click:function(s){t.go("/market")}}},[t._v("业务市场")])]),e("ul",{staticClass:"box_2"},[e("li",{class:{active:1==t.type_1},on:{click:function(s){t.change_type(1)}}},[t._m(1),e("div",{staticClass:"title"},[t._v("补贴")]),e("div",{staticClass:"money"},[t._v(t._s(t.agentUser.subsidiesall))])]),e("li",{class:{active:2==t.type_1},on:{click:function(s){t.change_type(2)}}},[t._m(2),e("div",{staticClass:"title"},[t._v("广告机")]),e("div",{staticClass:"money"},[t._v("0")])]),e("li",{class:{active:3==t.type_1},on:{click:function(s){t.change_type(3)}}},[t._m(3),e("div",{staticClass:"title"},[t._v("分红")]),e("div",{staticClass:"money"},[t._v("0")])]),e("li",{class:{active:4==t.type_1},on:{click:function(s){t.change_type(4)}}},[t._m(4),e("div",{staticClass:"title"},[t._v("可提现")]),e("div",{staticClass:"money"},[t._v(t._s(t.agentUser.sutotal))])])]),e("div",{staticClass:"content"},[e("div",{directives:[{name:"show",rawName:"v-show",value:1==t.type_1,expression:"type_1==1"}],staticClass:"box_3"},[t._m(5),e("ul",{staticClass:"list",on:{scroll:function(s){t.butie_scroll(s)}}},[t._l(t.butie.list,function(s,a){return e("li",{key:a},[e("div",[t._v(t._s(s.realName)+"}")]),e("div",[t._v(t._s(t._f("datatime")(s.updateTime,"yyyy-MM-dd")))]),e("div",[t._v(t._s(s.dtSubsidies))]),e("div",[t._v(t._s(s.dtSubsidiesPlus))]),e("div",[t._v(t._s(s.itSubsidies))]),e("div",[t._v(t._s(s.itSubsidiesPlus))])])}),t.butie.loading?e("div",{staticClass:"config_loading mui-text-center"},[t._v("拼命加载中···")]):t._e(),t.butie.loading||t.butie.list.length!=t.butie.total?t._e():e("div",{staticClass:"config_load mui-text-center"},[t._v("———没有更多了———")]),t.butie.loading||0!=t.butie.list.length?t._e():e("div",{staticClass:"config_No_data mui-text-center"},[t._v("暂无数据")])],2),e("ul",{staticClass:"footer"},[e("li",[t._v("直推："+t._s(t.agentUser.directly)+"人")]),e("li",[t._v("间推："+t._s(t.agentUser.indirect)+"人")]),e("li",[t._v("直补："+t._s(t.agentUser.result1)+"元")]),e("li",[t._v("间补："+t._s(t.agentUser.result2)+"元")])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:2==t.type_1,expression:"type_1==2"}],staticClass:"box_4"},[t._m(6)]),e("div",{directives:[{name:"show",rawName:"v-show",value:3==t.type_1,expression:"type_1==3"}],staticClass:"box_5"},[t._m(7)]),e("div",{directives:[{name:"show",rawName:"v-show",value:4==t.type_1,expression:"type_1==4"}],staticClass:"box_6"},[e("ul",{staticClass:"list"},[e("li",[e("div",[t._v("补贴："+t._s(t.agentUser.sutotal))]),e("div",[t._v("累计："+t._s(t.agentUser.subsidiesall))])]),t._m(8),t._m(9)]),e("ul",{staticClass:"Collect_Money",on:{click:function(s){t.Account()}}},[e("li",[t._v("收款账户："+t._s(t.Account_obj.account))]),t._m(10)]),e("ul",{staticClass:"money"},[e("li",[t._v("提现金额： ")]),e("li",[e("span",[e("span",[t._v("￥")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.amount,expression:"amount"}],attrs:{type:"text"},domProps:{value:t.amount},on:{input:[function(s){s.target.composing||(t.amount=s.target.value)},function(s){t.amount_change()}]}})]),e("span",[t._v("费率：4%")])])]),e("div",{staticClass:"Agreement"},[e("div",{staticClass:"radio_1",class:{active:t.radio_type_2},on:{click:function(s){t.change_radio_2()}}},[e("i",{staticClass:"icon iconfont icon-xuanze"})]),e("span",{on:{click:function(s){t.change_radio_2()}}},[t._v("我也阅读并同意")]),e("span",{on:{click:function(s){t.BusinessAgreement()}}},[t._v("《业务代理合作协议》")]),e("span",[e("span",{on:{click:function(s){t.go("EmbodyRecord")}}},[t._v("\n                            提现记录\n                        ")])])]),e("button",{staticClass:"btn_1",on:{click:function(s){t.change_payment(!0)}}},[t._v("提交")])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.payment,expression:"payment"}],staticClass:"payment"},[e("div",{staticClass:"mask"}),e("div",{staticClass:"payment_1"},[e("div",{staticClass:"forget",on:{click:function(s){t.PaymentPassword()}}},[t._v("忘记密码？")]),e("div",{staticClass:"close_1",on:{click:function(s){t.change_payment(!1)}}},[e("i",{staticClass:"mui-icon mui-icon-closeempty"})]),e("div",{staticClass:"title"},[t._v("支付密码")]),e("div",{staticClass:"input_box"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.accout_password,expression:"accout_password"}],attrs:{type:"tel",id:"accout_password",maxlength:"6",pattern:"\\d*"},domProps:{value:t.accout_password},on:{input:[function(s){s.target.composing||(t.accout_password=s.target.value)},function(s){t.passwad_change()}]}}),t._m(11),e("div",{staticClass:"subsidy"})]),e("button",{staticClass:"btn_2",on:{click:function(s){t.Put_forward()}}},[t._v("确定")])])])]),e("circularNav")],1)},i=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"img_box"},[a("img",{attrs:{src:e("9330"),alt:"",srcset:""}})])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"img_box"},[e("img",{attrs:{src:"image/d1.png",alt:"",srcset:""}})])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"img_box"},[e("img",{attrs:{src:"image/d2.png",alt:"",srcset:""}})])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"img_box"},[e("img",{attrs:{src:"image/d3.png",alt:"",srcset:""}})])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"img_box"},[e("img",{attrs:{src:"image/d4.png",alt:"",srcset:""}})])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ul",{staticClass:"title"},[e("li",[t._v("姓名")]),e("li",[t._v("日期")]),e("li",[t._v("直补")]),e("li",[t._v("+直补")]),e("li",[t._v("间补")]),e("li",[t._v("+间补")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"kaifazhong"},[e("div",{staticClass:"imb_box"},[e("img",{attrs:{src:"image/kaifazhong.png",alt:""}})]),e("div",{staticClass:"text"},[t._v("该功能正在研发中")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"kaifazhong"},[e("div",{staticClass:"imb_box"},[e("img",{attrs:{src:"image/kaifazhong.png",alt:""}})]),e("div",{staticClass:"text"},[t._v("该功能正在研发中")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("li",[e("div",[t._v("广告机：0")]),e("div",[t._v("累计：0")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("li",[e("div",[t._v("分红：0")]),e("div",[t._v("累计：0")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("li",[e("i",{staticClass:"mui-icon mui-icon-arrowright"})])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ul",[e("li"),e("li"),e("li"),e("li"),e("li"),e("li")])}],n=e("1aa4"),o=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ul",[t.loadingtype&&!t.nodata?e("li",{staticClass:"config_loading mui-text-center"},[t._v("拼命加载中···")]):t._e(),!t.loadingtype&&t.end?e("li",{staticClass:"config_load mui-text-center"},[t._v("———没有更多了———")]):t._e(),t.nodata?e("li",{staticClass:"config_No_data mui-text-center"},[t._v("暂无数据")]):t._e()])},c=[],l={name:"",props:{loadingtype:Boolean,nodata:Boolean,end:Boolean},data:function(){return{}}},u=l,r=(e("c9fc"),e("2877")),_=Object(r["a"])(u,o,c,!1,null,"18cedf40",null);_.options.__file="loading.vue";var d=_.exports,v=e("9848"),m={name:"Agent",components:{circularNav:n["a"],loading:d},data:function(){return{type_1:1,list_1:[1,2,3,4,5,6,1,1,1,1,1,1,1,1,1,1,1,1],radio_type_2:!0,payment:!1,userInfo:"",agentUser:{},areaList:[],butie:{page_index:0,page_size:15,list:[],total:0,loading:!1},Account_obj:{},accout_password:"",amount:0}},filters:{datatime:function(t,s){return Object(v["b"])(t,s)}},computed:{},methods:{amount_change:function(){this.amount>this.agentUser.sutotal&&(this.amount=this.agentUser.sutotal)},PaymentPassword:function(){this.$router.push("/PaymentPassword")},Put_forward:function(){var t=this,s=/^\d{6}$/;if(s.test(this.accout_password)){var e={account:this.Account_obj.account,amount:this.amount,userid:this.userInfo.username,payPassword:this.accout_password,id:this.userInfo.id};this.$axios({method:"get",url:"/api-u/users/alipay",params:e}).then(function(s){console.log(s),200==s.data.code?(t.payment=!1,t.getagentUser(),mui.alert("提现已提交，请注意查收。","提示","好的",function(){},"div")):s.data.code?mui.toast(s.data.message,{duration:2e3,type:"div"}):mui.toast("系统错误，请稍后再试。",{duration:2e3,type:"div"})}).catch(function(t){console.log(t),mui.toast("系统错误，请稍后再试。",{duration:2e3,type:"div"})})}else mui.toast("支付密码为6位数字。",{duration:2e3,type:"div"})},passwad_change:function(){this.accout_password.length>6&&(this.accout_password=this.accout_password.substring(1))},BusinessAgreement:function(){this.$router.push("/BusinessAgreement?name="+this.agentUser.realName)},butie_scroll:function(t){var s=t.target.offsetHeight,e=t.target.scrollHeight,a=t.target.scrollTop;s+a>=e-10&&!this.butie.loading&&this.butie.list.length<this.butie.total&&(console.log("到底底部"),this.butie.page_index++,this.subsidies())},RegionalAgent:function(){this.$router.push("/RegionalAgent")},change_type:function(t){this.type_1=t},change_radio_2:function(){this.radio_type_2=!this.radio_type_2},change_payment:function(t){this.payment=t,t&&(this.accout_password="",setTimeout(function(){document.getElementById("accout_password").focus()},500))},Account:function(){this.$router.push("/Account")},go:function(t){this.$router.push(t)},getagentUser:function(){var t=this;this.$axios({method:"get",url:"/api-u/agentUser/me?userid="+this.userInfo.phone}).then(function(s){console.log("获取用户代理人信息",s),200!=s.data.code?t.$router.push("/ApplicationAgent"):(t.agentUser=s.data.data,t.amount=s.data.data.sutotal,t.areaList=t.$store.getters.filter_area(s.data.data.areaCode))}).catch(function(s){t.agentUser=!1,t.$router.push("/ApplicationAgent"),console.log("获取用户代理人信息失败",s)})},subsidies:function(){var t=this;this.butie.loading=!0,this.$axios({method:"get",url:"/api-u/agentUser/subsidies/forme?referrerPhone="+this.userInfo.phone+"&start="+this.butie.page_index*this.butie.page_size+"&length="+this.butie.page_size}).then(function(s){200==s.data.code&&(t.butie.list=t.butie.list.concat(s.data.data.data),t.butie.total=s.data.data.sutotal,t.butie.loading=!1),console.log("查看下级带来的收益",s)}).catch(function(t){console.log(t)})},findAccount:function(){var t=this;this.$axios({method:"get",url:"/api-u/users/findAccount?userid="+this.userInfo.username}).then(function(s){console.log("获取支付宝账号",s),null!=s.data.data&&(t.Account_obj=s.data.data)}).catch(function(t){console.log(t)})}},mounted:function(){localStorage.userInfo&&""!=localStorage.userInfo&&null!=localStorage.userInfo&&void 0!=localStorage.userInfo&&"undefined"!=localStorage.userInfo&&(this.userInfo=JSON.parse(localStorage.userInfo)),this.$store.state.isweixin&&(document.getElementsByTagName("title")[0].innerText="代理人"),this.getagentUser(),this.subsidies(),this.findAccount()}},g=m,f=(e("2346"),Object(r["a"])(g,a,i,!1,null,null,null));f.options.__file="Agent.vue";s["default"]=f.exports}}]);